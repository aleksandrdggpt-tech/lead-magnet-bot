# üöÇ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DATABASE_URL –≤ Railway

## –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `DATABASE_URL`.

## –†–µ—à–µ–Ω–∏–µ: –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∞

1. –í –ø—Ä–æ–µ–∫—Ç–µ Railway –Ω–∞–∂–º–∏—Ç–µ **"+ New"** (–∏–ª–∏ **"+"** –≤ –ª–µ–≤–æ–º –º–µ–Ω—é)
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Database"** ‚Üí **"Add PostgreSQL"**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–æ–±—ã—á–Ω–æ 1-2 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 2: –°–≤—è–∂–∏—Ç–µ DATABASE_URL —Å —Å–µ—Ä–≤–∏—Å–æ–º –±–æ—Ç–∞

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Reference (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à **—Å–µ—Ä–≤–∏—Å –±–æ—Ç–∞** (–Ω–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö!)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **"Variables"**
3. –ù–∞–∂–º–∏—Ç–µ **"+ New Variable"** –∏–ª–∏ **"Add Variable"**
4. –í –ø–æ–ª–µ **"Name"** –≤–≤–µ–¥–∏—Ç–µ: `DATABASE_URL`
5. –í –ø–æ–ª–µ **"Value"** –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É **üîó Reference** (–∏–ª–∏ –∫–Ω–æ–ø–∫—É "Reference")
6. –í –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É **PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
7. –í —Å–ª–µ–¥—É—é—â–µ–º —Å–ø–∏—Å–∫–µ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é **`DATABASE_URL`**
8. –ù–∞–∂–º–∏—Ç–µ **"Add"** –∏–ª–∏ **"Save"**

#### –°–ø–æ—Å–æ–± 2: –í—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ Reference –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É **PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** –≤ Railway
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **"Variables"**
3. –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é **`DATABASE_URL`** –∏ **—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ** (–Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è)
4. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à **—Å–µ—Ä–≤–∏—Å –±–æ—Ç–∞**
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **"Variables"**
6. –ù–∞–∂–º–∏—Ç–µ **"+ New Variable"**
7. **Name:** `DATABASE_URL`
8. **Value:** –≤—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `postgresql://`)
9. –ù–∞–∂–º–∏—Ç–µ **"Add"**

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–∫–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
- `ADMIN_USER_IDS` - –≤–∞—à Telegram ID
- `CHANNEL_USERNAME` - username –∫–∞–Ω–∞–ª–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ `/set_channel`)
- `DEV_MODE` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ `0`

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å. –ï—Å–ª–∏ –Ω–µ—Ç:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å –±–æ—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ (‚ãÆ) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Redeploy"** –∏–ª–∏ **"Restart"**

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **"Deployments"**
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
   ```
   ‚úÖ Database initialized
   ‚úÖ All handlers registered
   üöÄ Starting bot...
   ```

## –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –ì–¥–µ –Ω–∞–π—Ç–∏ Variables:

1. **–í —Å–µ—Ä–≤–∏—Å–µ –±–æ—Ç–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å (–æ–±—ã—á–Ω–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "lead-magnet-bot")
   - –í–∫–ª–∞–¥–∫–∞ **"Variables"** –≤ –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é

2. **–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ PostgreSQL —Å–µ—Ä–≤–∏—Å
   - –í–∫–ª–∞–¥–∫–∞ **"Variables"** –≤ –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é

### –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç Reference:

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø–æ–ª–µ "Value" —Å –∫–Ω–æ–ø–∫–æ–π **"Reference"** –∏–ª–∏ –∏–∫–æ–Ω–∫–æ–π **üîó**. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

‚ùå **–û—à–∏–±–∫–∞:** "DATABASE_URL is not set"
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–º–µ–Ω–Ω–æ –≤ —Å–µ—Ä–≤–∏—Å –±–æ—Ç–∞, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

‚ùå **–û—à–∏–±–∫–∞:** "Connection refused"
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—É—â–µ–Ω–∞

‚ùå **–û—à–∏–±–∫–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Reference –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `DEV_MODE=1` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –±–æ—Ç–∞. –≠—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite –≤–º–µ—Å—Ç–æ PostgreSQL (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production).

## –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ –∏ –∑–∞–ø—É—â–µ–Ω–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DATABASE_URL` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Å–µ—Ä–≤–∏—Å –±–æ—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ `DATABASE_URL` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `postgresql://`
